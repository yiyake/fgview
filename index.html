<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="js/eml4.js"></script>
		<script src="js/alk.js"></script>
		<script src="js/color.js"></script>
		<script src="js/abl1.js"></script>
		<script src="js/bcr.js"></script>
		<link href="css/gene.css" rel="stylesheet">
	</head>
	<body>
	<div id="ct">
	  <div id="top"></div>
	  <div id="middle" >
	  	  <div class="space">
	  	  </div>
		  <div id="m_bp" style="width:400px ;margin: auto;">
			  <form>
			  <div>
			  	Fusion Gene1:
				    <select id="sect_g1" onchange="changeGeneO()">
					  <option value="BCR">BCR</option>
					  <option value="ABL1">ABL1</option>
					  <option value="EML4">EML4</option>
					  <option value="ALK">ALK</option>
			        </select>
			    BP:<input id="g1_bp" type="text" placeholder="Input breakpoint" maxlength="10000" />
			  </div>
			  <div>
			  	Fusion Gene2:
				    <select id="sect_g2" onchange="changeGeneT()">
				      <option value="ABL1">ABL1</option>
					  <option value="BCR">BCR</option>
					  <option value="EML4">EML4</option>
					  <option value="ALK">ALK</option>
			        </select>
			    BP:<input id="g2_bp" placeholder="Input breakpoint" maxlength="10000" />
			  </div>
			  <input id="fusion_btn" type="button" value="Draw"/>
			 <!-- <button id="fusion_bt">Draw Fusion Gene</button>-->
			  </form>
			  </div>
			  
			  <div id="fusion_img" style="width:800px ;margin: auto; visibility: hidden;">
			    <div class="space">
	  	        </div>
	  	        <div id="legant">
	  	        </div>
	  	        <div id="fusion_ct">
	  	            <!--<div id="bp_line">
	  	        		<div id="line_draw"></div>
	  	        	</div>-->
	  	        	<div id="line_4"></div>
	  	        	<div id="line_1"></div>
	  	        	<div id="line_box"></div>
	  	        	<div id="line_3"></div>
	  	        	<div id="line_2"></div>
	  	        	<div id="left_g">
	  	        		<div class="gene_title">
	  	        			<div class="gene_t" id="g1_name">BCR</div>
	  	        			<div class="gene_rank" id="g1_code">ENST00000305877</div>
	  	        		</div>
	  	        		<!--<div id="link_line1" class="space">
	  	                 </div>-->
	  	        		<div class="gene_bar">
	  	        			<div class="bar_bp">
	  	        				
	  	        				<span id="bp_label">BP:<span id="bp_posi">927</span></span>
	  	        			</div>
	  	        			<div class="bar_length">
	  	        				<div id="gene_1_start">1</div>
	  	        				<div id="gene_1_lenth">1272</div>
	  	        			</div>
	  	        			<div class="bar_draw">
	  	        				<div id="bar_red">
	  	        					<div id="red_bp"></div>
	  	        				</div>
	  	        			</div>
	  	        		</div>
	  	        		<div id="f_bar1" class="feature_bar">
	  	        			<!--<div class="f" id="b_f_1"></div>
	  	        			<div class="f" id="b_f_2"></div>
	  	        			<div class="f" id="b_f_3"></div>-->
	  	        		</div>
	  	        	</div>
	  	        	<div id="right_g">
	  	        		<div class="gene_title">
	  	        			<div class="gene_t" id="g2_name">BCR</div>
	  	        			<div class="gene_rank" id="g2_code">ENST00000305877</div>
	  	        		</div>
	  	        		<!--<div id="link_line2" class="space">
	  	                 </div>-->
	  	        		<div class="gene_bar">
	  	        			<div class="bar_bp">
	  	        				<span id="bp_label_2">BP:<span id="bp_posi2">26</span></span>
	  	        			</div>
	  	        			<div class="bar_length">
	  	        				<div id="gene_2_lenth">1131</div>
	  	        				<!--<div id="gene_2_start">1</div>-->
	  	        				<div id="gene_2_begin">1</div>
	  	        			</div>
	  	        			<div class="bar_draw">
	  	        				<div id="bar_blue">
	  	        					<div id="blue_bp"></div>
	  	        				</div>
	  	        			</div>
	  	        		</div>
	  	        		<div id="f_bar2" class="feature_bar">
	  	        			<!--<div class="f" id="a_f_1"></div>
	  	        			<div class="f" id="a_f_2"></div>
	  	        			<div class="f" id="a_f_3"></div>-->
	  	        		</div>
	  	        	</div>

	  	        	<div class="clr"></div>
	  	        	
	  	        </div>
		      </div>
	</div>
	<div id="buttom"></div>
	</div>
    <div id="back_box">
    	<div id="dialog">
    		<div id="f_show">
	    	<p id="feature_title"><strong>Protein feature information:</strong></p>
	    	<p>Name:<span id="f_name"></span></p>
	    	<p>Start:<span id="f_start">256</span></p>
	    	<p>End:<span id="f_end">265</span></p>
	    	<p>Description:<span id="f_desc"></span></p>
	    	
    		</div>
    		<div id="g_show" hidden="hidden">
	    	<p id="gene_title"><strong>Broken protein's sequence:</strong></p>
	    	<p>★Broken <span id="g_name1"></span>'s AA sequence:</p>
	    	<textarea id="aas"></textarea>
	    	<p>★Broken <span id="g_name2"></span>'s transcript sequence:</p>
	    	<textarea id="trs"></textarea>
    		</div>
    		<button id="infobtn">OK</button>
    	</div>
    </div>
    
	</body>
</html> 
<script type="text/javascript">	
    var bcr_seq={aaseq:"MVDPVGFAEAWKAQFPDSEPPRMELRSVGDIEQELERCKASIRRLEQEVNQERFRMIYLQTLLAKEKKSTDRQRWGFRRAAQAPDGASEPRASASRPQPAPADGADPPPAEEPEARPDGEGSPGKARPGTARRPGAAASGERDDRGPPASVAALRSNFERIRKGHGQPGADAEKPFYVNVEFHHERGLVKVNDKEVSDRISSLGSQAMQMERKKSQHGAGSSVGDASRPPYRGRSSESSCGVDGDYEDAELNPRFLKDNLIDANGGSRPPWPPLEYQPYQSIYVGGMMEGEGKGPLLRSQSTSEQEKRLTWPRRSYSPRSFEDCGGGTTPDCSSNENLTSSEEDFSSGQSSRVSPSPTTYRMFRDKSRSPSQNSQQSFDSSSPPTPQCHKRHRHCPVVVSEATIVGVRKTGQIWPNDGEGAFHGDADGSFGTPPGYGCAADRAEEQRRHQDGLPYIDDSPSSSPHLSSKGRGSRDALVSGALESTKASELDLEKGLEMRKWVLSGILASEETYLSHLEALLLPMKPLKAAATTSQPVLTSQQIETIFFKVPELYEIHKEFTDGLFPRVQQWSHQQRVGDLFQKLASQLGVYRAFVDNYGVAMEMAEKCCQANAQFAEISENLRARSNKDAKDPTTKNSLETLLYKPVDRVTRSTLVLHDLLKHTPASHPDHPLLQDALRISQNFLSSINEEITPRRQSMTVKKGEHRQLLKDSFMVELVEGARKLRHVFLFTDLLLCTKLKKQSGGKTQQTDCKWYIPLTDLSFQMVDELEAVPNIPLVPDEELDALKIKISQIKNDIQREKRANKGSKATERLKKKLSEQESLLLLMSPSMAFRVHSRNGKSYTFLISSDTERAEWRENIREQQKKCFRSFSLTSVELQMLTNSCVKLQTVHSIPLTINKEDDESPGLTGFLNVIVHSATGFKQS",
transeq:"ATGGTGGACCCGGTGGGCTTCGCGGAGGCGTGGAAGGCGCAGTTCCCGGACTCAGAGCCCCCGCGCATGGAGCTGCGCTCAGTGGGCGACATCGAGCAGGAGCTGGAGCGCTGCAAGGCCTCCATTCGGCGCCTGGAGCAGGAGGTGAACCAGGAGCGCTTCCGCATGATCTACCTGCAGACGTTGCTGGCCAAGGAAAAGAAGAGCTATGACCGGCAGCGATGGGGCTTCCGGCGCGCGGCGCAGGCCCCCGACGGCGCCTCCGAGCCCCGAGCGTCCGCGTCGCGCCCGCAGCCAGCGCCCGCCGACGGAGCCGACCCGCCGCCCGCCGAGGAGCCCGAGGCCCGGCCCGACGGCGAGGGTTCTCCGGGTAAGGCCAGGCCCGGGACCGCCCGCAGGCCCGGGGCAGCCGCGTCGGGGGAACGGGACGACCGGGGACCCCCCGCCAGCGTGGCGGCGCTCAGGTCCAACTTCGAGCGGATCCGCAAGGGCCATGGCCAGCCCGGGGCGGACGCCGAGAAGCCCTTCTACGTGAACGTCGAGTTTCACCACGAGCGCGGCCTGGTGAAGGTCAACGACAAAGAGGTGTCGGACCGCATCAGCTCCCTGGGCAGCCAGGCCATGCAGATGGAGCGCAAAAAGTCCCAGCACGGCGCGGGCTCGAGCGTGGGGGATGCATCCAGGCCCCCTTACCGGGGACGCTCCTCGGAGAGCAGCTGCGGCGTCGACGGCGACTACGAGGACGCCGAGTTGAACCCCCGCTTCCTGAAGGACAACCTGATCGACGCCAATGGCGGTAGCAGGCCCCCTTGGCCGCCCCTGGAGTACCAGCCCTACCAGAGCATCTACGTCGGGGGCATGATGGAAGGGGAGGGCAAGGGCCCGCTCCTGCGCAGCCAGAGCACCTCTGAGCAGGAGAAGCGCCTTACCTGGCCCCGCAGGTCCTACTCCCCCCGGAGTTTTGAGGATTGCGGAGGCGGCTATACCCCGGACTGCAGCTCCAATGAGAACCTCACCTCCAGCGAGGAGGACTTCTCCTCTGGCCAGTCCAGCCGCGTGTCCCCAAGCCCCACCACCTACCGCATGTTCCGGGACAAAAGCCGCTCTCCCTCGCAGAACTCGCAACAGTCCTTCGACAGCAGCAGTCCCCCCACGCCGCAGTGCCATAAGCGGCACCGGCACTGCCCGGTTGTCGTGTCCGAGGCCACCATCGTGGGCGTCCGCAAGACCGGGCAGATCTGGCCCAACGATGGCGAGGGCGCCTTCCATGGAGACGCAGATGGCTCGTTCGGAACACCACCTGGATACGGCTGCGCTGCAGACCGGGCAGAGGAGCAGCGCCGGCACCAAGATGGGCTGCCCTACATTGATGACTCGCCCTCCTCATCGCCCCACCTCAGCAGCAAGGGCAGGGGCAGCCGGGATGCGCTGGTCTCGGGAGCCCTGGAGTCCACTAAAGCGAGTGAGCTGGACTTGGAAAAGGGCTTGGAGATGAGAAAATGGGTCCTGTCGGGAATCCTGGCTAGCGAGGAGACTTACCTGAGCCACCTGGAGGCACTGCTGCTGCCCATGAAGCCTTTGAAAGCCGCTGCCACCACCTCTCAGCCGGTGCTGACGAGTCAGCAGATCGAGACCATCTTCTTCAAAGTGCCTGAGCTCTACGAGATCCACAAGGAGTTCTATGATGGGCTCTTCCCCCGCGTGCAGCAGTGGAGCCACCAGCAGCGGGTGGGCGACCTCTTCCAGAAGCTGGCCAGCCAGCTGGGTGTGTACCGGGCCTTCGTGGACAACTACGGAGTTGCCATGGAAATGGCTGAGAAGTGCTGTCAGGCCAATGCTCAGTTTGCAGAAATCTCCGAGAACCTGAGAGCCAGAAGCAACAAAGATGCCAAGGATCCAACGACCAAGAACTCTCTGGAAACTCTGCTCTACAAGCCTGTGGACCGTGTGACGAGGAGCACGCTGGTCCTCCATGACTTGCTGAAGCACACTCCTGCCAGCCACCCTGACCACCCCTTGCTGCAGGACGCCCTCCGCATCTCACAGAACTTCCTGTCCAGCATCAATGAGGAGATCACACCCCGACGGCAGTCCATGACGGTGAAGAAGGGAGAGCACCGGCAGCTGCTGAAGGACAGCTTCATGGTGGAGCTGGTGGAGGGGGCCCGCAAGCTGCGCCACGTCTTCCTGTTCACCGACCTGCTTCTCTGCACCAAGCTCAAGAAGCAGAGCGGAGGCAAAACGCAGCAGTATGACTGCAAATGGTACATTCCGCTCACGGATCTCAGCTTCCAGATGGTGGATGAACTGGAGGCAGTGCCCAACATCCCCCTGGTGCCCGATGAGGAGCTGGACGCTTTGAAGATCAAGATCTCCCAGATCAAGAATGACATCCAGAGAGAGAAGAGGGCGAACAAGGGCAGCAAGGCTACGGAGAGGCTGAAGAAGAAGCTGTCGGAGCAGGAGTCACTGCTGCTGCTTATGTCTCCCAGCATGGCCTTCAGGGTGCACAGCCGCAACGGCAAGAGTTACACGTTCCTGATCTCCTCTGACTATGAGCGTGCAGAGTGGAGGGAGAACATCCGGGAGCAGCAGAAGAAGTGTTTCAGAAGCTTCTCCCTGACATCCGTGGAGCTGCAGATGCTGACCAACTCGTGTGTGAAACTCCAGACTGTCCACAGCATTCCGCTGACCATCAATAAGGAAGATGATGAGTCTCCGGGGCTCTATGGGTTTCTGAATGTCATCGTCCACTCAGCCACTGGATTTAAGCAGAGTTCAA"}
    var abl1_seq={aaseq:"KALQRPVASDFEPQGLSEAARWNSKENLLAGPSENDPNLFVALTDFVASGDNTLSITKGEKLRVLGTNHNGEWCEAQTKNGQGWVPSNYITPVNSLEKHSWYHGPVSRNAAETLLSSGINGSFLVRESESSPGQRSISLRYEGRVYHYRINTASDGKLYVSSESRFNTLAELVHHHSTVADGLITTLHTPAPKRNKPTVTGVSPNYDKWEMERTDITMKHKLGGGQYGEVYEGVWKKYSLTVAVKTLKEDTMEVEEFLKEAAVMKEIKHPNLVQLLGVCTREPPFTIITEFMTYGNLLDYLRECNRQEVNAVVLLYMATQISSAMEYLEKKNFIHRDLAARNCLVGENHLVKVADFGLSRLMTGDTYTAHAGAKFPIKWTAPESLAYNKFSIKSDVWAFGVLLWEIATTGMSPYPGIDLSQVTELLEKDYRMERPEGCPEKVTELMRACWQWNPSDRPSFAEIHQAFETMFQESSISDEVEKELGKQGVRGAVSTLLQAPELPTKTRTSRRAAEHRDTTDVPEMPHSKGQGESDPLDHEPAVSPLLPRKERGPPEGGLNEDERLLPKDKKTNLFSALIKKKKKTAPTPPKRSSSFREMDGQPERRGAGEEEGRDISNGALAFTPLDTADPAKSPKPSNGAGVPNGALRESGGSGFRSPHLWKKSSTLTSSRLATGEEEGGGSSSKRFLRSCSASCVPHGAKDTEWRSVTLPRDLQSTGRQFDSSTFGGHKSEKPALPRKRAGENRSDQVTRGTVTPPPRLVKKNEEAADEVFKDIMESSPGSSPPNLTPKPLRRQVTVAPASGLPHKEEAGKGSALGTPAAAEPVTPTSKAGSGAPGGTSKGPAEESRVRRHKHSSESPGRDKGKLSRLKPAPPPPPAASAGKAGGKPSQSPSQEAAGEAVLGAKTKATSLVDAVNSDAAKPSQPGEGLKKPVLPATPKPQSAKPSGTPISPAPVPSTLPSASSALAGDQPSSTAFIPLISTRVSLRKTRQPPERIASGAITKGVVLDSTEALCLAISRNSEQMASHSAVLEAGKNLYTFCVSTVDSIQQMRNKFAFREAINKLENNLRELQICPATAGSGPAATQDFSKLLSSVKEISDIVQR_",
transeq:"AAGCCCTTCAGCGGCCAGTAGCATCTGACTTTGAGCCTCAGGGTCTGAGTGAAGCCGCTCGTTGGAACTCCAAGGAAAACCTTCTCGCTGGACCCAGTGAAAATGACCCCAACCTTTTCGTTGCACTGTATGATTTTGTGGCCAGTGGAGATAACACTCTAAGCATAACTAAAGGTGAAAAGCTCCGGGTCTTAGGCTATAATCACAATGGGGAATGGTGTGAAGCCCAAACCAAAAATGGCCAAGGCTGGGTCCCAAGCAACTACATCACGCCAGTCAACAGTCTGGAGAAACACTCCTGGTACCATGGGCCTGTGTCCCGCAATGCCGCTGAGTATCTGCTGAGCAGCGGGATCAATGGCAGCTTCTTGGTGCGTGAGAGTGAGAGCAGTCCTGGCCAGAGGTCCATCTCGCTGAGATACGAAGGGAGGGTGTACCATTACAGGATCAACACTGCTTCTGATGGCAAGCTCTACGTCTCCTCCGAGAGCCGCTTCAACACCCTGGCCGAGTTGGTTCATCATCATTCAACGGTGGCCGACGGGCTCATCACCACGCTCCATTATCCAGCCCCAAAGCGCAACAAGCCCACTGTCTATGGTGTGTCCCCCAACTACGACAAGTGGGAGATGGAACGCACGGACATCACCATGAAGCACAAGCTGGGCGGGGGCCAGTACGGGGAGGTGTACGAGGGCGTGTGGAAGAAATACAGCCTGACGGTGGCCGTGAAGACCTTGAAGGAGGACACCATGGAGGTGGAAGAGTTCTTGAAAGAAGCTGCAGTCATGAAAGAGATCAAACACCCTAACCTGGTGCAGCTCCTTGGGGTCTGCACCCGGGAGCCCCCGTTCTATATCATCACTGAGTTCATGACCTACGGGAACCTCCTGGACTACCTGAGGGAGTGCAACCGGCAGGAGGTGAACGCCGTGGTGCTGCTGTACATGGCCACTCAGATCTCGTCAGCCATGGAGTACCTGGAGAAGAAAAACTTCATCCACAGAGATCTTGCTGCCCGAAACTGCCTGGTAGGGGAGAACCACTTGGTGAAGGTAGCTGATTTTGGCCTGAGCAGGTTGATGACAGGGGACACCTACACAGCCCATGCTGGAGCCAAGTTCCCCATCAAATGGACTGCACCCGAGAGCCTGGCCTACAACAAGTTCTCCATCAAGTCCGACGTCTGGGCATTTGGAGTATTGCTTTGGGAAATTGCTACCTATGGCATGTCCCCTTACCCGGGAATTGACCTGTCCCAGGTGTATGAGCTGCTAGAGAAGGACTACCGCATGGAGCGCCCAGAAGGCTGCCCAGAGAAGGTCTATGAACTCATGCGAGCATGTTGGCAGTGGAATCCCTCTGACCGGCCCTCCTTTGCTGAAATCCACCAAGCCTTTGAAACAATGTTCCAGGAATCCAGTATCTCAGACGAAGTGGAAAAGGAGCTGGGGAAACAAGGCGTCCGTGGGGCTGTGAGTACCTTGCTGCAGGCCCCAGAGCTGCCCACCAAGACGAGGACCTCCAGGAGAGCTGCAGAGCACAGAGACACCACTGACGTGCCTGAGATGCCTCACTCCAAGGGCCAGGGAGAGAGCGATCCTCTGGACCATGAGCCTGCCGTGTCTCCATTGCTCCCTCGAAAAGAGCGAGGTCCCCCGGAGGGCGGCCTGAATGAAGATGAGCGCCTTCTCCCCAAAGACAAAAAGACCAACTTGTTCAGCGCCTTGATCAAGAAGAAGAAGAAGACAGCCCCAACCCCTCCCAAACGCAGCAGCTCCTTCCGGGAGATGGACGGCCAGCCGGAGCGCAGAGGGGCCGGCGAGGAAGAGGGCCGAGACATCAGCAACGGGGCACTGGCTTTCACCCCCTTGGACACAGCTGACCCAGCCAAGTCCCCAAAGCCCAGCAATGGGGCTGGGGTCCCCAATGGAGCCCTCCGGGAGTCCGGGGGCTCAGGCTTCCGGTCTCCCCACCTGTGGAAGAAGTCCAGCACGCTGACCAGCAGCCGCCTAGCCACCGGCGAGGAGGAGGGCGGTGGCAGCTCCAGCAAGCGCTTCCTGCGCTCTTGCTCCGCCTCCTGCGTTCCCCATGGGGCCAAGGACACGGAGTGGAGGTCAGTCACGCTGCCTCGGGACTTGCAGTCCACGGGAAGACAGTTTGACTCGTCCACATTTGGAGGGCACAAAAGTGAGAAGCCGGCTCTGCCTCGGAAGAGGGCAGGGGAGAACAGGTCTGACCAGGTGACCCGAGGCACAGTAACGCCTCCCCCCAGGCTGGTGAAAAAGAATGAGGAAGCTGCTGATGAGGTCTTCAAAGACATCATGGAGTCCAGCCCGGGCTCCAGCCCGCCCAACCTGACTCCAAAACCCCTCCGGCGGCAGGTCACCGTGGCCCCTGCCTCGGGCCTCCCCCACAAGGAAGAAGCTGGAAAGGGCAGTGCCTTAGGGACCCCTGCTGCAGCTGAGCCAGTGACCCCCACCAGCAAAGCAGGCTCAGGTGCACCAGGGGGCACCAGCAAGGGCCCCGCCGAGGAGTCCAGAGTGAGGAGGCACAAGCACTCCTCTGAGTCGCCAGGGAGGGACAAGGGGAAATTGTCCAGGCTCAAACCTGCCCCGCCGCCCCCACCAGCAGCCTCTGCAGGGAAGGCTGGAGGAAAGCCCTCGCAGAGCCCGAGCCAGGAGGCGGCCGGGGAGGCAGTCCTGGGCGCAAAGACAAAAGCCACGAGTCTGGTTGATGCTGTGAACAGTGACGCTGCCAAGCCCAGCCAGCCGGGAGAGGGCCTCAAAAAGCCCGTGCTCCCGGCCACTCCAAAGCCACAGTCCGCCAAGCCGTCGGGGACCCCCATCAGCCCAGCCCCCGTTCCCTCCACGTTGCCATCAGCATCCTCGGCCCTGGCAGGGGACCAGCCGTCTTCCACCGCCTTCATCCCTCTCATATCAACCCGAGTGTCTCTTCGGAAAACCCGCCAGCCTCCAGAGCGGATCGCCAGCGGCGCCATCACCAAGGGCGTGGTCCTGGACAGCACCGAGGCGCTGTGCCTCGCCATCTCTAGGAACTCCGAGCAGATGGCCAGCCACAGCGCAGTGCTGGAGGCCGGCAAAAACCTCTACACGTTCTGCGTGAGCTATGTGGATTCCATCCAGCAAATGAGGAACAAGTTTGCCTTCCGAGAGGCCATCAACAAACTGGAGAATAATCTCCGGGAGCTTCAGATCTGCCCGGCGACAGCAGGCAGTGGTCCAGCGGCCACTCAGGACTTCAGCAAGCTCCTCAGTTCGGTGAAGGAAATCAGTGACATAGTGCAGAGGTAG"}
    var g_code={BCR:"ENST00000305877",ABL1:"ENST00000318560",EML4:"ENST00000318522",ALK:"ENST00000397938"}
    var flag=0;
	var sect_g1=document.getElementById('sect_g1');
	var g1_bp=document.getElementById('g1_bp');
	var g2_bp=document.getElementById('g2_bp');
	var fusion_btn=document.getElementById('fusion_btn');
	var g1_name=document.getElementById('g1_name');
	var g1_code=document.getElementById('g1_code');
	var g2_name=document.getElementById('g2_name');
	var g2_code=document.getElementById('g2_code');
    var fusion_img=document.getElementById('fusion_img');
    var sect_g2=document.getElementById('sect_g2');
    var bp_label=document.getElementById('bp_label');
    var bp_label_2=document.getElementById('bp_label_2');
    var bp_posi=document.getElementById('bp_posi'); 
    var bp_posi2=document.getElementById('bp_posi2'); 
    var gene_1_start=document.getElementById('gene_1_start');
    var gene_2_start=document.getElementById('gene_2_start');
    var gene_1_lenth=document.getElementById('gene_1_lenth');
    var gene_2_start=document.getElementById('gene_2_lenth');
    var bar_red=document.getElementById('bar_red');
    var bar_blue=document.getElementById('bar_blue');
    var gene_2_begin=document.getElementById('gene_2_begin');
    var line_draw=document.getElementById('line_draw');
    var bcr_len=1272;
    var abl1_len=1131;
    var f_bar1=document.getElementById('f_bar1');
    var f_bar2=document.getElementById('f_bar2');
    var line_1=document.getElementById('line_1');
    var line_2=document.getElementById('line_2');
    var line_box=document.getElementById('line_box');
    var red_bp=document.getElementById('red_bp');
    var blue_bp=document.getElementById("blue_bp");
    var link_line1=document.getElementById('link_line1');
    var link_line2=document.getElementById('link_line2');
    var dialog=document.getElementById('dialog');
    var back_box=document.getElementById('back_box');
    var f_name=document.getElementById('f_name');
    var f_start=document.getElementById('f_start');
    var f_end=document.getElementById('f_end');
    var f_desc=document.getElementById('f_desc');
    var infobtn=document.getElementById('infobtn');
    var aas=document.getElementById('aas');
    var trs=document.getElementById('trs');
    var g_name1=document.getElementById('g_name1');
    var g_name2=document.getElementById('g_name2');
    var f_show=document.getElementById('f_show');
    var g_show=document.getElementById('g_show');
    var line_3=document.getElementById('line_3');
    var line_4=document.getElementById('line_4');
    var legant=document.getElementById('legant')
    var k=0.3;
    var gene1_len=0;
    var gene2_len=0;
    var gene1_name='';
    var gene2_name='';
    var gene1_arr=[];
    var gene2_arr=[];
    var gene1_code='';
    var gene2_code='';
    var gene1_seq=[];
    var gene2_seq=[];
    var line_len1=0;
    var line_len2=0;
    
    
    
    infobtn.onclick=function(){
    	dialog.style.visibility="hidden";
    	f_show.hidden="hidden";
    	back_box.style.visibility="hidden";
    }
	sect_g1.onchange=function(){
		if(sect_g1.value=='BCR'){
			//console.log('g1'+sect_g1.value);
			//alert('g1选择了BCR');
			
		}else{
			//alert('g1选择了ABL1');
			//console.log(sect_g1.value);
		}
		console.log('g1:'+sect_g1.value);
	}
	sect_g2.onchange=function(){
		console.log('g2:'+sect_g2.value);
		if(sect_g2.value=='BCR'){
			//console.log(sect_g2.value)
			//alert('g2选择了BCR');
		}else{
			//alert('g2选择了ABL1');
			console.log(sect_g2.value)
		}
	}
	red_bp.onclick=function(){
		                g_name1.innerHTML=sect_g1.value;
		                g_name2.innerHTML=sect_g1.value;
				        aas.innerHTML=gene1_seq.aaseq;
				        trs.innerHTML=gene1_seq.transeq;
				        dialog.style.visibility="visible";
				        f_show.hidden="hidden";
				        g_show.hidden=false;
	                	back_box.style.visibility="visible";
		
	}
	blue_bp.onclick=function(){
		                g_name1.innerHTML=sect_g2.value;
		                g_name2.innerHTML=sect_g2.value;
                        aas.innerHTML=gene2_seq.aaseq;
                        trs.innerHTML=gene2_seq.transeq;
                        dialog.style.visibility="visible";
                        f_show.hidden="hidden";
				        g_show.hidden=false;
	                	back_box.style.visibility="visible";
	}
	function strtoint(arr){
			for(var i=0;i<arr.length;i++){
			arr[i].start=parseInt(arr[i].start);
			arr[i].end=parseInt(arr[i].end);
			//console.log(bcrinfo[i].start);
			
		}	
	}
	fusion_btn.onclick=function(){
		//////////////////////////
		
		///////////////////////////
		//console.log('eml4lenth'+eml4_info.length);
		//console.log('alklenth'+alk_info.length);
        line_len1=0;
        line_len2=0;
        
		removediv();
        box_Draw();
        if(flag==1){
       	
        }
        
		if(sect_g1.value==sect_g2.value){
			alert('Gene 1 and Gene 2 cannot be the same, please re-select!');
			flag=0;
		}else{
			gene1_name=sect_g1.value;
			gene2_name=sect_g2.value;
			//g_name1.innerHTML=sect_g1.value;
			//g_name2.innerHTML=sect_g2.value;
			gene1_code=g_code[sect_g1.value];
			gene2_code=g_code[sect_g2.value];
			
			if(gene1_name=='BCR'){	
				gene1_arr=bcr_info;
				gene1_seq=bcr_seq;
			}else if(gene1_name=='ABL1'){
				gene1_arr=abl1_info;
				gene1_seq=abl1_seq;
			}else if(gene1_name=='EML4'){
				gene1_arr=eml4_info;
				gene1_seq=abl1_seq;
			}else if(gene1_name=='ALK'){
				gene1_arr=alk_info;
				gene1_seq=abl1_seq;
			}
            if(gene2_name=='BCR'){	
				gene2_arr=bcr_info;
				gene2_seq=bcr_seq;
			}else if(gene2_name=='ABL1'){
				gene2_arr=abl1_info;
				gene2_seq=abl1_seq;
			}else if(gene2_name=='EML4'){
				gene2_arr=eml4_info;
				gene2_seq=abl1_seq;
			}else if(gene2_name=='ALK'){
				gene2_arr=alk_info;
				gene2_seq=abl1_seq;
			}
			gene1_len=gene1_arr[0].end-gene1_arr[0].start+1;
			console.log('gene_len:'+gene1_len);
			gene2_len=gene2_arr[0].end-gene2_arr[0].start+1;
			console.log('gene2_len:'+gene2_len);
			//gene1_len=1272;
            //gene2_len=1131;
            flag=1;
            fusion_img.style.visibility='visible';
            bp_posi.innerHTML=g1_bp.value;
            bp_label.style.marginLeft=g1_bp.value*k+"px";
            line_1.style.marginLeft=g1_bp.value*k+"px";
            line_box.style.marginLeft=g1_bp.value*k+1+"px";
           
            
            

            bp_posi2.innerHTML=g2_bp.value;
            
		    g1_name.innerHTML=sect_g1.value;
		    ///////////////
		    g1_code.innerHTML=gene1_code;
		    gene_1_lenth.innerHTML=gene1_len;
		    gene_1_lenth.style.marginLeft=gene1_len*k-40+"px";
		    bar_red.style.width=gene1_len*k+"px";
		    f_Draw(gene1_arr,f_bar1);
		    
		    g2_name.innerHTML=sect_g2.value;
		    g2_code.innerHTML=gene2_code;
		   	gene_2_lenth.innerHTML=gene2_len+'';
		   	bp_label_2.style.marginLeft=g2_bp.value*k+"px";
		   	line_2.style.marginLeft=400+g2_bp.value*k+"px";
		   	line_box.style.width=g2_bp.value*k+400-g1_bp.value*k+"px";
		    bar_blue.style.width=gene2_len*k+"px";
		    	//blue_bp.style.marginLeft=400-abl1_len*0.3+g2_bp.value*0.3+"px";
		    gene_2_lenth.style.marginRight=400-gene2_len*k+"px";
		    blue_bp.style.width=gene2_len*k-g2_bp.value*k+"px";
		    f_Draw(gene2_arr,f_bar2);
		    //console.log()
		  var box_len=(gene1_arr.length>gene2_arr.length)?gene1_arr.length:gene2_arr.length;
//		  var zhezhaolen=(f_bar1.style.height>f_bar2.style.height)?f_bar1.style.height:f_bar2.style.height;
//		  console.log("fbar长："+zhezhaolen);
//		  console.log("旧的遮罩长"+box_len);
//		  line_1.style.height=f_bar1.style.height;
//		  line_2.style.height=f_bar1.style.height;
//		  line_box.style.height=f_bar1.style.height;

         //var h2=document.defaultView.getComputedStyle(f_bar1,null).height;
         
		  //var h = f_bar1.currentStyle.offsetHeight;
		  line_1.style.height=(box_len)*15+50+"px";
		  line_2.style.height=(box_len)*15+50+"px";
		  line_box.style.height=(box_len)*15+50+"px";
		  line_1.style.marginTop="90px";
		  line_2.style.marginTop="90px";
		  line_box.style.marginTop="90px";
		  line_3.style.height=(box_len)*15+"px";
		  line_4.style.height=(box_len)*15+"px";

		  
		  
		}
		
		clickfeature();
		strtoint(gene1_arr);
        strtoint(gene2_arr);
		line_box.style.visibility="visible";
		
		if(g1_bp.value==""||g2_bp.value==""){
        	line_1.style.visibility="hidden";
        	line_2.style.visibility="hidden";
        	line_box.style.visibility="hidden";
        	red_bp.style.width=bar_red.style.width+"px";
        }else{
        	line_1.style.visibility="visible";
        	line_2.style.visibility="visible";
        	line_box.style.visibility="visible";
        }
        if(g1_bp.value>gene1_len||g2_bp.value>gene2_len){
         window.location.reload();
         alert('The cut point is too long, please re-enter');
        	
        }
		if(g1_bp.value==""){
        red_bp.style.width="100%";
            }else{
            	 red_bp.style.width=g1_bp.value*k+"px";
            }
	}
	function removediv(){
			while(f_bar2.hasChildNodes()){ 
			f_bar2.removeChild(f_bar2.firstChild);
	
		}
		while(f_bar1.hasChildNodes()){
			f_bar1.removeChild(f_bar1.firstChild);
	
		}
		while(legant.hasChildNodes()){
			legant.removeChild(legant.firstChild);
	
		}
       // window.location.reload();*/
	}
	line_box.onclick=function(){
		line_box.style.visibility="hidden";
	}
	function box_Draw(){
		for(var i=0;i<f_color.length;i++){
			var div=document.createElement("div");
			div.className="legant_box";
			div.id="box"+i;
			legant.appendChild(div);
			var divs1=document.createElement("div");
			divs1.className="box_color";
			divs1.style.backgroundColor=f_color[i].color;
			div.appendChild(divs1);
			var divs2=document.createElement("div");
			divs2.className="box_text";
			divs2.innerHTML=f_color[i].name;
			div.appendChild(divs2);
			///////////////
			if((f_color[i].name=="Site")||(f_color[i].name=="Active site")){
				divs1.style.height="10px";
				divs1.style.width="10px";
				divs1.style.marginTop="4px";
				divs1.style.borderRadius="50%";
			}
			if((f_color[i].name=="Metal binding")||(f_color[i].name=="Binding site")){
				divs1.style.height="10px";
				divs1.style.width="10px";
				divs1.style.marginTop="4px";
                divs1.style.borderRadius="50%";
			}
			if((f_color[i].name=="Alternative sequence")||(f_color[i].name=="Natural variant")){
				divs1.style.height="10px";
				divs1.style.width="10px";
				divs1.style.marginTop="4px";
                divs1.style.borderRadius="50%";
			}
			
		}
	}
	function f_Draw(arr,fbar){
		//var back=0;
		for(var i=0;i<arr.length;i++){
			if(arr[i].name=='Sequence conflict'||arr[i].name=='Sequence uncertainty'){
				i++;
			}else if(arr[i].name=='Mutagenesis'||arr[i].name=='Non-adjacent residues'){
				i++;
			}
		var div=document.createElement("div");
		div.style.marginLeft=arr[i].start*k+"px";
		div.style.width=arr[i].end*k-arr[i].start*k+1+"px";
		
		//div.style.backgroundColor="#31B0D5";

//		if(div.style.width==0.3+"px"){
//			div.style.width=0.6+"px";
//			div.style.borderRadius="50%";
//		}
		//console.log(abl1_info[i].name);

		for(var j=0;j<f_color.length;j++){
			//console.log(f_color.length); 
			//console.log(bcr_info[i].name);
			if(arr[i].name==f_color[j].name){
				div.style.backgroundColor=f_color[j].color;			
			}
		}
		if(fbar==f_bar1){
			div.className="fa";
			div.id="fa"+i;
			console.log(div.id);
			if(g1_bp.value!=0&&g2_bp.value!=0){
				
			
			if(arr[i].start*k>g1_bp.value*k){
				//console.log('需要透明的box'+arr[i].start*k);
				//console.log('bp的位置：'+g1_bp.value*k);
				console.log('透明的fa：'+i);
				div.style.opacity="0.5";
			}else if(arr[i].start<g1_bp.value && arr[i].end>g1_bp.value){
				console.log('一半透明fa'+i);
				var divs=document.createElement("div");
				divs.style.width=arr[i].end*k-g1_bp.value*k+"px";
				divs.style.height="100%";
				divs.style.float="right";
				divs.style.backgroundColor="white";
				divs.style.opacity="0.5";
				div.appendChild(divs);
			}else if(i==0){
				var divs=document.createElement("div");
				divs.style.width=arr[i].end*k-g1_bp.value*k+"px";
				divs.style.height="100%";
				divs.style.float="right";
				divs.style.backgroundColor="white";
				divs.style.opacity="0.5";
				div.appendChild(divs);
			}
			}
			line_len1=line_len1+15;
		}else{
			div.className="fb";
			div.id="fb"+i;
			console.log(div.id);
			if(g1_bp.value!=0&&g2_bp.value!=0){
			if(arr[i].end*k<=g2_bp.value*k){
				div.style.opacity="0.5";
			}else if(arr[i].start<g2_bp.value && arr[i].end>g2_bp.value){
				var divs=document.createElement("div");
				divs.style.width=g2_bp.value*k-arr[i].start*k+"px";
				divs.style.height="100%";
				divs.style.backgroundColor="white";
				divs.style.opacity="0.5";
				div.appendChild(divs);
			}else if(i==0){
				var divs=document.createElement("div");
				divs.style.width=g2_bp.value*k-arr[i].start*k+"px";
				divs.style.height="100%";
				divs.style.backgroundColor="white";
				divs.style.opacity="0.5";
				div.appendChild(divs);
			}
			}
			//line_len2=line_len2+15;
		}
		fbar.appendChild(div);

		if((arr[i].name=="Site")||(arr[i].name=="Active site")){
			div.style.width="5px";
		    var circle=document.createElement("div");
		    circle.style.width="5px";
		    circle.style.height="5px";
		    circle.style.borderRadius="50%";
		    circle.style.marginTop="5px";
		    circle.style.backgroundColor=div.style.backgroundColor;
		    div.style.backgroundColor=null;
		    div.appendChild(circle);
		}
		if((arr[i].name=="Metal binding")||(arr[i].name=="Binding site")){
			div.style.width="5px";
		    var circle=document.createElement("div");
		    circle.style.width="5px";
		    circle.style.height="5px";
		    circle.style.borderRadius="50%";
		    circle.style.marginTop="5px";
		    circle.style.backgroundColor=div.style.backgroundColor;
		    div.style.backgroundColor=null;
		    div.appendChild(circle);
		}
		if((arr[i].name=="Alternative sequence")||(arr[i].name=="Natural variant")){
			div.style.width="5px";
		    var circle=document.createElement("div");
		    circle.style.width="5px";
		    circle.style.height="5px";
		    circle.style.borderRadius="50%";
		    circle.style.marginTop="5px";
		    circle.style.backgroundColor=div.style.backgroundColor;
		    div.style.backgroundColor=null;
		    div.appendChild(circle);
		}
	}
}

	
	function getElementsByClassName(n) {
	    var classElements = [],allElements = document.getElementsByTagName('*');
	    for (var i=0; i< allElements.length; i++ )
	   {
	       if (allElements[i].className == n ) {
	           classElements[classElements.length] = allElements[i];
	        }
	   }
	   return classElements;
	}
	
	function clickfeature(){
//		f_bar2.onclick=function(){
//			alert('yes！');
//		}
        
	     window.onscroll = function(){
		 var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;
	      console.log('鼠标移动了'+scrollTop);
		 back_box.style.top=scrollTop+"px";
		 }
       	var list_obja = getElementsByClassName("fa");  
		var list_objb = getElementsByClassName("fb");
		console.log(list_objb.length);	
		for(var i = 0; i<list_objb.length; i++){
			
	        list_objb[i].onclick = (function(i){
	                return function () {
	                	f_desc.innerHTML=gene2_arr[i].desc;
	                	f_name.innerHTML=gene2_arr[i].name;
	                	f_start.innerHTML=gene2_arr[i].start;
	                	f_end.innerHTML=gene2_arr[i].end;
	                	f_show.hidden=false;
	                	g_show.hidden="hidden";
	                	dialog.style.visibility="visible";
	                	back_box.style.visibility="visible";
	                }
	        })(i);
        }
		for(var i = 0; i<list_obja.length; i++){
			
	        list_obja[i].onclick = (function(i){
	                return function () {
	                	f_desc.innerHTML=gene1_arr[i].desc;
	                	f_name.innerHTML=gene1_arr[i].name;
	                	f_start.innerHTML=gene1_arr[i].start;
	                	f_end.innerHTML=gene1_arr[i].end;
	                	f_show.hidden=false;
	                	g_show.hidden="hidden";
	                	dialog.style.visibility="visible";
	                	back_box.style.visibility="visible";
	                }
	        })(i);
        }
//      list_objb[list_objb.length-1].onclick=function(){
//      	alert('YYYYYes!');
//      }
        //console.log("f_bar长度："+f_bar1.style.height);
        //var o = document.getElementById("div1");
		
	}
</script>